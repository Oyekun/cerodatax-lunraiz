/*
 * File: app/controller/Escritorio.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('cerodatax.controller.Escritorio', {
    extend: 'Ext.app.Controller',

    control: {
        "#menuSeguridad": {
            click: 'onMenuSeguridadClick'
        },
        "#menuEstructuras": {
            click: 'onMenuEstructuraClick'
        },
        "#menuPersonas": {
            click: 'onMenuPersonasClick'
        },
        "#menuActualizaciones": {
            click: 'onMenuActualizacionesClick'
        },
        "#menuSexos": {
            click: 'onMenuSexosClick'
        },
        "#menuMunicipios": {
            click: 'onMenuMunicipiosClick'
        },
        "#menuProvincias": {
            click: 'onMenuProvinciasClick'
        },
        "#menuPaises": {
            click: 'onMenuPaisesClick'
        },
        "#menuOrganismos": {
            click: 'onMenuOrganismosClick'
        },
        "#menuClasificaciones": {
            click: 'onMenuClasificacionesClick'
        },
        "#menuCategorias": {
            click: 'onMenuCategoriasClick'
        },
        "#menuTipos": {
            click: 'onMenuTiposClick'
        },
        "#menuGruposSanguineos": {
            click: 'onMenuGruposSanguineosClick'
        },
        "#menuColoresPiel": {
            click: 'onMenuColoresPielClick'
        },
        "#menuEstadosCiviles": {
            click: 'onMenuEstadosCivilesClick'
        },
        "#menuDefensas": {
            click: 'onMenuDefensasClick'
        },
        "#menuNivelesEducacionales": {
            click: 'onMenuNivelesEducacionalesClick'
        },
        "#menuCalificadores": {
            click: 'onMenuCalificadoresClick'
        },
        "#menuGruposEscalas": {
            click: 'onMenuGruposEscalasClick'
        },
        "#menuCategoriasEntidades": {
            click: 'onMenuCategoriasEntidadesClick'
        },
        "#menuContinentes": {
            click: 'onMenuContinentesClick'
        },
        "#menuNAE": {
            click: 'onMenuNAEClick'
        },
        "#menuSeccionNAE": {
            click: 'onMenuSeccionNAEClick'
        },
        "#menuDivisionNAE": {
            click: 'onMenuDivisionNAEClick'
        },
        "#menuUnion": {
            click: 'onMenuUnionClick'
        },
        "#menuTipoRegistro": {
            click: 'onMenuTipoRegistroClick'
        },
        "#menuMoneda": {
            click: 'onMenuMonedaClick'
        },
        "panel": {
            activate: 'onPanelActivate'
        },
        "#menuModulos": {
            click: 'onMenuModulosClick'
        },
        "#menuTipoModulo": {
            click: 'onMenuTipoModuloClick'
        },
        "#menuTipoMenu": {
            click: 'onMenuTipoMenuClick'
        },
        "#menuIcono": {
            click: 'onMenuIconoClick'
        }
    },

    onMenuSeguridadClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuEstructuraClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuPersonasClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuActualizacionesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuSexosClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuMunicipiosClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuProvinciasClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuPaisesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuOrganismosClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuClasificacionesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuCategoriasClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuTiposClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuGruposSanguineosClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuColoresPielClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuEstadosCivilesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuDefensasClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuNivelesEducacionalesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuCalificadoresClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuGruposEscalasClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuCategoriasEntidadesClick: function(item, e, eOpts) {
        this.selectMenu(item);
    },

    onMenuContinentesClick: function(item) {
        this.selectMenu(item);
    },

    onMenuNAEClick: function(item) {
        this.selectMenu(item);
    },

    onMenuSeccionNAEClick: function(item) {
        this.selectMenu(item);
    },

    onMenuDivisionNAEClick: function(item) {
        this.selectMenu(item);
    },

    onMenuUnionClick: function(item,e,eOpts) {
        this.selectMenu(item);
    },

    onMenuTipoRegistroClick: function(item) {
        this.selectMenu(item);
    },

    onMenuMonedaClick: function(item,e,eOpts) {
        this.selectMenu(item);
    },

    onPanelActivate: function(component, eOpts) {
        //Funcion para recargar los grid y tree de los tabpanel
        console.log(component)
        if(component.tab)
          {       var grid = component.down('grid');
                  var tree = component.down('tree');
                  if(grid)
                     {if(grid.store.proxy.extraParams!==undefined)
                       grid.store.proxy.extraParams.combo = '';
                      grid.store.load();
                      grid.getSelectionModel().deselectAll();
                      if(grid.down('toolbar').down('button[itemId=btnEdit]'))
                         grid.down('toolbar').down('button[itemId=btnEdit]').setDisabled(true);
                     if(grid.down('toolbar').down('button[itemId=btnRemove]'))
                         grid.down('toolbar').down('button[itemId=btnRemove]').setDisabled(true);
                     if(grid.down('toolbar').down('button[itemId=btnAssociate]'))
                         grid.down('toolbar').down('button[itemId=btnAssociate]').setDisabled(true);

                     }
                     if(tree)
                     {tree.store.proxy.extraParams.parent_id = '';
                      tree.store.load();
                      tree.getSelectionModel().deselectAll();
                      if(tree.down('toolbar').down('button[itemId=btnEdit]'))
                         tree.down('toolbar').down('button[itemId=btnEdit]').setDisabled(true);
                     if(tree.down('toolbar').down('button[itemId=btnRemove]'))
                         tree.down('toolbar').down('button[itemId=btnRemove]').setDisabled(true);
                     if(tree.down('toolbar').down('button[itemId=btnAssociate]'))
                         tree.down('toolbar').down('button[itemId=btnAssociate]').setDisabled(true);

                     }
        }



    },

    onMenuModulosClick: function(panel) {
         this.selectMenu(panel);
    },

    onMenuTipoModuloClick: function(panel) {
        this.selectMenu(panel);
    },

    onMenuTipoMenuClick: function(target) {
        this.selectMenu(panel);
    },

    onMenuIconoClick: function(panel) {
        this.selectMenu(panel);
    },

    selectMenu: function(item) {
        //funcion para recargar los grid y tree panel al dar click en en los menu principales


        var obj = item.itemId.split('menu');
        var search = obj[1];

        var panelPrincipal = Ext.ComponentQuery.query('#panelPrincipal')[0];
        panelPrincipal.items.each(function(itemPanel){
            searchPanel = 'panel'+search;

            if(itemPanel.itemId==searchPanel)
            { itemPanel.setHidden(false);
             var tree = itemPanel.down('treepanel');
             var grid = itemPanel.down('grid');

             var display = itemPanel.down('panel[reference=display]');

             if(display)
             {

                 var layout = display.getLayout();

                 var select = itemPanel.down('panel[reference=selectMessage]');

                 layout.setActiveItem(select);

             }

             if(grid)
             {if(grid.store.proxy.extraParams!==undefined)
               grid.store.proxy.extraParams.combo = '';
              grid.store.load();
              grid.getSelectionModel().deselectAll();

             }
             if(tree)
             {tree.store.proxy.extraParams.parent_id = '';
              tree.store.load();
              tree.getSelectionModel().deselectAll();

             }
             if(itemPanel.down('toolbar').down('button[itemId=btnEdit]'))
                 itemPanel.down('toolbar').down('button[itemId=btnEdit]').setDisabled(true);
             if(itemPanel.down('toolbar').down('button[itemId=btnRemove]'))
                 itemPanel.down('toolbar').down('button[itemId=btnRemove]').setDisabled(true);
             if(itemPanel.down('toolbar').down('button[itemId=btnAssociate]'))
                 itemPanel.down('toolbar').down('button[itemId=btnAssociate]').setDisabled(true);

            }
            else itemPanel.setHidden(true);
        });
    },

    showMenu: function(item) {
        console.log(item);
    }

});
